 # Use this file to run and test application
 # using a standard docker composer command :
 # docker compose -f .wex/docker/docker-compose.standalone.yml up -d
services:
  wex_dev:
    container_name: wex
    environment:
      SSH_AUTH_SOCK: /ssh-agent
    image: gitlab-docker.wexample.com/wexample-public/docker/wex:dev
    privileged: true
    restart: unless-stopped
    stdin_open: true
    tty: true
    volumes:
      # Work dir
      - ../../:/opt/wex
      # Mount apps
      - /var/www/${APP_ENV}:/var/www/${APP_ENV}
      # Allow container to override env data
      - /opt/wex/.wex/python/venv
      # Docker sharing
      - /var/run/docker.sock:/var/run/docker.sock
